function handleReportElements(e){handleElements(e),e.find("a[data-savecategory]").click(function(e){e.preventDefault();var t=$(this),a=t.closest("form"),n=a.attr("action"),r=a.attr("method");$.ajax({url:n,type:r,data:a.serialize(),success:function(e){var t=$(e);a.replaceWith(t),handleReportElements(t)}})}),e.find("a[data-showcategory]").click(function(e){e.preventDefault();var t=$(this),a=t.closest("form"),n=t.attr("href");""==n?t.closest(".category-container").remove():$.ajax({url:n,success:function(e){var t=$(e);a.replaceWith(t),handleReportElements(t)}})}),e.find("a[data-editcategory]").click(function(e){e.preventDefault();var t=$(this),a=t.closest(".category-header"),n=t.attr("href");$.ajax({url:n,success:function(e){var t=$(e);a.html(t),handleReportElements(t)}})}),e.find("a[data-deletecategory]").click(function(e){e.preventDefault();var t=$(this),a=t.closest(".category-container"),n=t.attr("href"),r=t.data("confirmation");confirm_delete=r?confirm(r):!0,confirm_delete&&$.ajax({url:n,type:"delete",success:function(){a.remove()}})}),e.find("a[data-newelement]").click(function(e){e.preventDefault();var t=$(this),a=t.closest(".category-container").find(".element-list"),n=t.attr("href");$.ajax({url:n,success:function(e){var t=$(e);a.append(t),handleReportElements(t)}})}),e.find("a[data-editelement]").click(function(e){e.preventDefault();var t=$(this),a=t.closest(".element"),n=t.attr("href");$.ajax({url:n,success:function(e){var t=$(e);a.replaceWith(t),handleReportElements(t)}})}),e.find("a[data-saveelement]").click(function(e){e.preventDefault();var t=$(this),a=t.closest("form"),n=t.closest(".element"),r=a.attr("action"),c=a.attr("method");$.ajax({url:r,type:c,data:a.serialize(),success:function(e){var t=$(e);n.replaceWith(t),handleReportElements(t)}})}),e.find("a[data-showelement]").click(function(e){e.preventDefault();var t=$(this),a=(t.closest("form"),t.closest(".element")),n=t.attr("href");""==n?a.remove():$.ajax({url:n,success:function(e){var t=$(e);a.replaceWith(t),handleReportElements(t)}})}),e.find("a[data-deleteelement]").click(function(e){e.preventDefault();var t=$(this),a=t.closest(".element"),n=t.attr("href"),r=t.data("confirmation");confirm_delete=r?confirm(r):!0,confirm_delete&&$.ajax({url:n,type:"delete",success:function(){a.remove()}})}),e.find(".shoptypes-control").on("click","a.btn",function(){var e=$(this),t=e.siblings("input"),a=t.val(),n=e.attr("href"),r=e.hasClass("active");a=r?a.replace(n,""):a+n,t.val(a)})}$(document).ready(function(){$("a[data-newcategory]").click(function(e){e.preventDefault();var t=$(this),a=t.attr("href");$.ajax({url:a,success:function(e){var t=$(e);$("#report-structure").append(t),handleReportElements(t)}})}),handleReportElements($("body"))});